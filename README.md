## Конфігураційні змінні в '.env'

Створіть в кореневому каталогу проєкту файл конфігурації `.env` та вкажіть свої параметри `SMTP_USER` та `SMTP_PASSWORD`:

```yaml
#For client
VITE_PORT=3000

#For server
ACCOUNTING_SERVER_HOST=localhost
ACCOUNTING_SERVER_PORT=5000

ACCESS_SECRET=access_secret
REFRESH_SECRET=refresh_secret
ACCESS_TOKEN_LIFETIME=15m
REFRESH_TOKEN_LIFETIME=60d

SALT_ROUNDS=9
STATIC_PATH=public
CLIENT_URL=http://localhost:3000

SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER=*yourmail@gmail.com*
SMTP_PASSWORD="*your password*"

#For database
DB_USER=postgres
DB_PASS=root
DB_NAME=home_accounting
DB_NAME_TEST=home_accounting_test
DB_DIALECT=postgres
MONGO_PORT=27017
MONGO_DB_NAME=home_accounting
MONGO_DB_NAME_TEST=home_accounting_test
```

# Документація API

Токен має передаватися у заголовку Authorization у форматі Bearer Token.

### Контролер Аутентифікації

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>
  
Цей контролер відповідає за реєстрацію, авторизацію та відновлення паролю користувача.

#### 1. Реєстрація користувача

**Метод**: POST  
**URL**: `/api/auth/registration`  
**Опис**: Створює нового користувача  
**Доступ лише для авторизованих користувачів**: Ні

**Тіло запиту**:

```json
{
  "fullName": "Повне ім'я користувача",
  "email": "Email користувача",
  "password": "Пароль"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 2. Логін користувача

**Метод**: POST  
**URL**: `/api/auth/login`  
**Опис**: Логін користувача, видає JWT токени  
**Доступ лише для авторизованих користувачів**: Ні

**Тіло запиту**:

```json
{
  "email": "Email користувача",
  "password": "Пароль"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 3. Логаут користувача

**Метод**: GET  
**URL**: `/api/auth/logout`  
**Опис**: Видаляє refresh токен і завершує сесію користувача  
**Доступ лише для авторизованих користувачів**: Ні  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

---

#### 4. Оновлення токенів (Refresh)

**Метод**: GET  
**URL**: `/api/auth/refresh`  
**Опис**: Оновлює JWT токени, використовуючи refresh токен з cookies  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 5. Запит на скидання паролю

**Метод**: POST  
**URL**: `/api/auth/forgot`  
**Опис**: Відправляє на електронну пошту користувача посилання для скидання пароля  
**Доступ лише для авторизованих користувачів**: Ні

**Тіло запиту**:

```json
{
  "email": "Email користувача"
}
```

**Приклад відповіді**:

```json
{
  "severity": "success",
  "title": "Скидання паролю..."
  "message": "На Вашу електронну адресу відправлено повідомлення з подальшими інструкціями",
}
```

---

#### 6. Перенаправлення на сторінку для скидання паролю

**Метод**: GET  
**URL**: `/api/auth/reset-password`  
**Опис**: Перевіряє токен для скидання пароля і перенаправляє користувача на сторінку введення нового пароля  
**Доступ лише для авторизованих користувачів**: Ні  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 301 Redirect

---

#### 7. Скидання паролю

**Метод**: POST  
**URL**: `/api/auth/reset?token={uuid_token}`  
**Опис**: Скидає пароль користувача за допомогою токена для скидання пароля  
**Доступ лише для авторизованих користувачів**: Ні

**Тіло запиту**:

```json
{
  "newPassword": "Новий пароль",
  "confirmNewPassword": "Підтвердження нового паролю"
}
```

**Приклад відповіді**:

```json
{
  "severity": "success",
  "title": "Скидання паролю..."
  "message": "Ваш пароль успішно змінено",
}
```

</details>

---

### Контролер Профілю Авторизованого Користувача

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління профілем поточного залогіненого користувача.

#### 1. Перегляд даних профілю поточного користувача

**Метод**: GET  
**URL**: `/api/profile`  
**Опис**: Отримує профіль поточного залогіненого користувача  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID поточного користувача",
  "fullName": "Повне ім'я користувача",
  "role": {
    "UUID ролі користувача",
    "Назва ролі користувача"
  },
  "photo": "Ім'я файлу фото користувача (якщо є)",
  "email": "Email користувача",
  "emailConfirm": "Статус підтвердження email користувача",
  "creation": {
    "createdAt": "Дата та час створення облікового запису",
    "updatedAt": "Дата та час редагування облікового запису"
  },
  "permissions": [
    {
      "uuid": "UUID права доступу",
      "title": "НАЗВА_ПРАВА_ДОСТУПУ"
    },
    ...
  ]
}
```

---

#### 2. Підтвердження email нового користувача

**Метод**: GET  
**URL**: `/api/profile/confirm?token={uuid_token}`  
**Опис**: Підтверджує email користувача за допомогою токена  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 301 Redirect

---

#### 3. Повторне відправлення посилання для підтвердження email

**Метод**: GET  
**URL**: `/api/profile/resend`  
**Опис**: Повторно надсилає лист для підтвердження email  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 301 Redirect

---

#### 4. Редагування даних профілю поточного користувача

**Метод**: PATCH  
**URL**: `/api/profile`  
**Опис**: Оновлює профіль поточного залогіненого користувача  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "fullName": "Нове ім'я користувача",
  "email": "Новий email користувача (необов'язково)",
  "role": "Нова роль користувача (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 5. Зміна пароля поточного користувача

**Метод**: PATCH  
**URL**: `/api/profile/password`  
**Опис**: Оновлює пароль поточного користувача  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "newPassword": "Новий пароль",
  "confirmNewPassword": "Підтвердження нового пароля"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 6. Зміна фото користувача

**Метод**: PATCH  
**URL**: `/api/profile/photo`  
**Опис**: Оновлює аватар користувача  
**Доступ лише для авторизованих користувачів**: Так  
**Формат запиту**: FormData

**Тіло запиту**:

```json
{
  "photo": "(файл зображення)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID користувача",
  "photo": "Ім'я файлу фото користувача"
}
```

---

#### 7. Видалення фото користувача

**Метод**: DELETE  
**URL**: `/api/profile/photo`  
**Опис**: Видаляє аватар користувача, повертаючи його до дефолтного  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID користувача",
  "photo": ""
}
```

---

#### 8. Видалення облікового запису користувача

**Метод**: DELETE  
**URL**: `/api/profile`  
**Опис**: Видаляє обліковий запис поточного користувача  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Користувачами

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління користувачами, редагування профілів, перегляд та видалення їхніх даних.

#### 1. Отримання списку всіх користувачів

**Метод**: GET  
**URL**: `/api/users`  
**Опис**: Повертає список користувачів з підтримкою пагінації, сортування та фільтрації за статусом  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінці (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `emailConfirm` - поле для фільтрації списку (за замовчуванням `all`)
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)",
  },
  ...
]
```

---

#### 2. Перегляд даних користувача за UUID

**Метод**: GET  
**URL**: `/api/users/{uuid}`  
**Опис**: Отримує інформацію про користувача за його UUID. Потрібні права доступу `FULL_PROFILE_VIEWER` або `LIMITED_PROFILE_VIEWER`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді, якщо поточний залогінений користувач має дозвіл FULL_PROFILE_VIEWER**:

```json
{
  "uuid": "UUID користувача",
  "fullName": "Повне ім'я користувача",
  "role": {
    "UUID ролі користувача",
    "Назва ролі користувача"
  },
  "photo": "Ім'я файлу фото користувача (якщо є)",
  "email": "Email користувача",
  "emailConfirm": "Статус підтвердження email користувача",
  "creation": {
    "createdAt": "Дата та час створення облікового запису",
    "updatedAt": "Дата та час редагування облікового запису"
  },
  "permissions": [
    {
      "uuid": "UUID права доступу",
      "title": "НАЗВА_ПРАВА_ДОСТУПУ"
    },
    ...
  ]
}
```

**Приклад відповіді, якщо поточний залогінений користувач має дозвіл LIMITED_PROFILE_VIEWER**:

```json
{
  "uuid": "UUID користувача",
  "fullName": "Повне ім'я користувача",
  "role": {
    "UUID ролі користувача",
    "Назва ролі користувача"
  },
  "photo": "Ім'я файлу фото користувача (якщо є)",
  "creation": {
    "createdAt": "Дата та час створення облікового запису",
    "updatedAt": "Дата та час редагування облікового запису"
  },
}
```

---

#### 3. Редагування даних користувача за UUID

**Метод**: PATCH  
**URL**: `/api/users/{uuid}`  
**Опис**: Оновлює інформацію про користувача за його UUID. Потрібні права доступу `EDIT_USERS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "fullName": "Нове ім'я користувача",
  "email": "Новий email користувача (необов'язково)",
  "role": "Нова роль користувача (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 4. Зміна пароля поточного користувача за UUID

**Метод**: PATCH  
**URL**: `/api/users/{uuid}/password`  
**Опис**: Оновлює пароль облікового запису користувача за його UUID. Потрібні права доступу `EDIT_USERS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "newPassword": "Новий пароль",
  "confirmNewPassword": "Підтвердження нового пароля"
}
```

**Приклад відповіді**:

```json
{
  "accessToken": "JWT access токен",
  "refreshToken": "JWT refresh токен",
  "user": {
    "uuid": "UUID користувача",
    "fullName": "Повне ім'я користувача",
    "emailConfirm": "Статус підтвердження email користувача",
    "role": "Роль користувача",
    "photo": "Ім'я файлу фото користувача (якщо є)"
  },
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

---

#### 5. Зміна фото користувача за UUID

**Метод**: PATCH  
**URL**: `/api/users/{uuid}/photo`  
**Опис**: Оновлює аватар користувача за його UUID. Потрібні права доступу `EDIT_USERS`  
**Доступ лише для авторизованих користувачів**: Так  
**Формат запиту**: FormData

**Тіло запиту**:

```json
{
  "photo": "(файл зображення)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID користувача",
  "photo": "Ім'я файлу фото користувача"
}
```

---

#### 6. Видалення фото користувача за UUID

**Метод**: DELETE  
**URL**: `/api/users/{uuid}/photo`  
**Опис**: Видаляє аватар користувача за його UUID, повертаючи його до дефолтного. Потрібні права доступу `EDIT_USERS`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID користувача",
  "photo": ""
}
```

---

#### 7. Видалення облікового запису користувача за UUID

**Метод**: DELETE  
**URL**: `/api/users/{uuid}`  
**Опис**: Видаляє користувача за UUID. Потрібні права доступу `REMOVE_USERS`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Ролями Користувачів

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління ролями користувачів, перегляд, створення, редагування та видалення ролей, зміна дозволів для ролей.

#### 1. Отримання списку всіх ролей

**Метод**: GET  
**URL**: `/api/roles`  
**Опис**: Повертає список ролей з підтримкою пагінації та сортування  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінці (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID ролі",
    "title": "Назва ролі",
  },
  ...
]
```

---

#### 2. Перегляд даних ролі за UUID

**Метод**: GET  
**URL**: `/api/roles/{uuid}`  
**Опис**: Отримує інформацію про роль за його UUID  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID ролі",
  "title": "Назва ролі",
  "description": "Опис ролі (якщо є)",
  "permissions": [
    {
      "uuid": "UUID права доступу",
      "title": "НАЗВА_ПРАВА_ДОСТУПУ",
      "description": "Детальний опис права доступу"
    },
    ...
  ],
  "creation": {
    "createdAt": "Дата та час створення ролі",
    "updatedAt": "Дата та час редагування ролі"
  }
}
```

---

#### 3. Створення нової ролі

**Метод**: POST  
**URL**: `/api/roles`  
**Опис**: Створює нову роль. Потрібні права доступу `ADD_ROLES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Назва ролі",
  "description": "Опис ролі (необов'язково)",
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID ролі",
  "title": "Назва ролі",
  "description": "Опис ролі",
  "permissions": [
    {
      "uuid": "UUID права доступу",
      "title": "НАЗВА_ПРАВА_ДОСТУПУ",
      "description": "Детальний опис права доступу"
    },
    ...
  ],
  "creation": {
    "createdAt": "Дата та час створення ролі",
    "updatedAt": "Дата та час редагування ролі"
  }
}
```

---

#### 4. Редагування даних ролі за UUID

**Метод**: PATCH  
**URL**: `/api/roles/{uuid}`  
**Опис**: Оновлює інформацію про роль за його UUID. Потрібні права доступу `EDIT_ROLES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Оновлена назва ролі (необов'язково)",
  "description": "Оновлений опис ролі (необов'язково)",
  "permissions": ["НАЗВА_ПРАВА_ДОСТУПУ", "НАЗВА_ПРАВА_ДОСТУПУ", ...]
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID ролі",
  "title": "Оновлена назва ролі",
  "description": "Оновлений опис ролі",
  "permissions": [
    {
      "uuid": "UUID права доступу",
      "title": "НАЗВА_ПРАВА_ДОСТУПУ",
      "description": "Детальний опис права доступу"
    },
    ...
  ],
  "creation": {
    "createdAt": "Дата та час створення ролі",
    "updatedAt": "Дата та час редагування ролі"
  }
}
```

---

#### 5. Видалення ролі за UUID

**Метод**: DELETE  
**URL**: `/api/roles/{uuid}`  
**Опис**: Видаляє роль за UUID. Потрібні права доступу `REMOVE_ROLES`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Прав Доступу Користувачів

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління правами доступу користувачів.

#### 1. Отримання списку всіх прав доступу

**Метод**: GET  
**URL**: `/api/permissions`  
**Опис**: Повертає список всіх прав доступу  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID права доступу",
    "title": "НАЗВА_ПРАВА_ДОСТУПУ",
    "description": "Детальний опис права доступу"
  },
  ...
]
```

</details>

---

### Контролер Управління Категоріями Товарів

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління категоріями товарів, перегляд, створення, редагування та видалення категорій.

#### 1. Отримання списку всіх категорій

**Метод**: GET  
**URL**: `/api/categories`  
**Опис**: Повертає список категорій з підтримкою пагінації, сортування та фільтрації за статусом  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінку (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `status` - поле для фільтрації списку (за замовчуванням `approved`)
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID категорії",
    "title": "Назва категорії"
  },
  ...
]
```

---

#### 2. Перегляд даних категорії за UUID

**Метод**: GET  
**URL**: `/api/categories/{uuid}`  
**Опис**: Отримує інформацію про категорію за його UUID  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID категорії",
  "title": "Назва категорії",
  "contentType": "Категорія",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення категорії",
    "updatedAt": "Дата та час редагування категорії"
  }
}
```

---

#### 3. Створення нової категорії

**Метод**: POST  
**URL**: `/api/categories`  
**Опис**: Створює нову категорію. Потрібні права доступу `ADD_CATEGORIES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Нова категорія"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID категорії",
  "title": "Назва категорії",
  "contentType": "Категорія",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення категорії",
    "updatedAt": "Дата та час редагування категорії"
  }
}
```

---

#### 4. Редагування даних категорії за UUID

**Метод**: PATCH  
**URL**: `/api/categories/{uuid}`  
**Опис**: Оновлює інформацію про категорію за його UUID. Потрібні права доступу `EDIT_CATEGORIES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Оновлена назва"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID категорії",
  "title": "Оновлена назва категорії",
  "contentType": "Категорія",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення категорії",
    "updatedAt": "Дата та час редагування категорії"
  }
}
```

---

#### 5. Видалення категорії за UUID

**Метод**: DELETE  
**URL**: `/api/categories/{uuid}`  
**Опис**: Видаляє категорію за UUID. Потрібні права доступу `REMOVE_CATEGORIES`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Товарами та Послугами

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління товарами та послугами, перегляд, створення, редагування та видалення товарів та послуг.

#### 1. Отримання списку всіх товарів та послуг

**Метод**: GET  
**URL**: `/api/products`  
**Опис**: Повертає список товарів та послуг з підтримкою пагінації, сортування та фільтрації за статусом  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінку (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `status` - поле для фільтрації списку (за замовчуванням `approved`)
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID товару/послуги",
    "title": "Назва товару/послуги",
    "category": "Категорія товару/послуги (якщо є)"
  },
  ...
]
```

---

#### 2. Перегляд даних товару/послуги за UUID

**Метод**: GET  
**URL**: `/api/products/{uuid}`  
**Опис**: Отримує інформацію про товар/послугу за його UUID  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID товару/послуги",
  "title": "Назва товару/послуги",
  "contentType": "Товар",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення товару/послуги",
    "updatedAt": "Дата та час редагування товару/послуги"
  },
  "category": {
    "uuid": "UUID категорії товару/послуги",
    "title": "Назва категорії товару/послуги"
  }
}
```

---

#### 3. Створення нового товару/послуги

**Метод**: POST  
**URL**: `/api/products`  
**Опис**: Створює новий товар/послугу. Потрібні права доступу `ADD_PRODUCTS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Новий товар/послуга",
  "category": "Категорія товару/послуги (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID товару/послуги",
  "title": "Назва товару/послуги",
  "contentType": "Товар",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення товару/послуги",
    "updatedAt": "Дата та час редагування товару/послуги"
  }
}
```

---

#### 4. Редагування даних товару/послуги за UUID

**Метод**: PATCH  
**URL**: `/api/products/{uuid}`  
**Опис**: Оновлює інформацію про товар/послугу за його UUID. Потрібні права доступу `EDIT_PRODUCTS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Оновлена назва",
  "category": "Категорія товару/послуги (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID товару/послуги",
  "title": "Оновлена назва товару/послуги",
  "contentType": "Товар",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення товару/послуги",
    "updatedAt": "Дата та час редагування товару/послуги"
  }
}
```

---

#### 5. Видалення товару/послуги за UUID

**Метод**: DELETE  
**URL**: `/api/products/{uuid}`  
**Опис**: Видаляє товар/послугу за UUID. Потрібні права доступу `REMOVE_PRODUCTS`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Закладами

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління закладами, перегляд, створення, редагування та видалення закладів.

#### 1. Отримання списку всіх закладів

**Метод**: GET  
**URL**: `/api/establishments`  
**Опис**: Повертає список закладів з підтримкою пагінації, сортування та фільтрації за статусом  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінку (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `status` - поле для фільтрації списку (за замовчуванням `approved`)
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID закладу",
    "title": "Назва закладу",
    "logo": "Ім'я файлу логотипу закладу (якщо є)"
  },
  ...
]
```

---

#### 2. Перегляд даних закладу за UUID

**Метод**: GET  
**URL**: `/api/establishments/{uuid}`  
**Опис**: Отримує інформацію про заклад за його UUID  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID закладу",
  "title": "Назва закладу",
  "contentType": "Заклад",
  "description": "Опис закладу (якщо є)",
  "url": "Посилання на сайт закладу (якщо є)",
  "logo": "Ім'я файлу логотипу закладу (якщо є)",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення закладу",
    "updatedAt": "Дата та час редагування закладу"
  }
}
```

---

#### 3. Створення нового закладу

**Метод**: POST  
**URL**: `/api/establishments`  
**Опис**: Створює новий заклад. Потрібні права доступу `ADD_ESTABLISHMENTS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Новий заклад",
  "description": "Опис закладу (необов'язково)",
  "url": "Посилання на сайт закладу (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID закладу",
  "title": "Назва закладу",
  "contentType": "Заклад",
  "description": "Опис закладу (якщо є)",
  "url": "Посилання на сайт закладу (якщо є)",
  "logo": "Ім'я файлу логотипу закладу (якщо є)",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення закладу",
    "updatedAt": "Дата та час редагування закладу"
  }
}
```

---

#### 4. Редагування даних закладу за UUID

**Метод**: PATCH  
**URL**: `/api/establishments/{uuid}`  
**Опис**: Оновлює інформацію про заклад за його UUID. Потрібні права доступу `EDIT_ESTABLISHMENTS`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "title": "Оновлена назва",
  "description": "Оновлений опис закладу (необов'язково)",
  "url": "Оновлене посилання на сайт закладу (необов'язково)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID закладу",
  "title": "Оновлена назва закладу",
  "contentType": "Заклад",
  "description": "Оновлений опис закладу (якщо є)",
  "url": "Оновлене посилання на сайт закладу (якщо є)",
  "logo": "Ім'я файлу логотипу закладу (якщо є)",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення закладу",
    "updatedAt": "Дата та час редагування закладу"
  }
}
```

---

#### 5. Зміна логотипу закладу за UUID

**Метод**: PATCH  
**URL**: `/api/establishments/{uuid}/logo`  
**Опис**: Оновлює логотип закладу за його UUID. Потрібні права доступу `EDIT_ESTABLISHMENTS`  
**Доступ лише для авторизованих користувачів**: Так  
**Формат запиту**: FormData

**Тіло запиту**:

```json
{
  "logo": "(файл зображення)"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID закладу",
  "title": "Назва закладу",
  "contentType": "Заклад",
  "description": "Опис закладу (якщо є)",
  "url": "Посилання на сайт закладу (якщо є)",
  "logo": "Ім'я файлу логотипу закладу",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення закладу",
    "updatedAt": "Дата та час редагування закладу"
  }
}
```

---

#### 6. Видалення логотипу закладу за UUID

**Метод**: DELETE  
**URL**: `/api/establishments/{uuid}/logo`  
**Опис**: Видаляє логотип закладу за його UUID, повертаючи його до дефолтного. Потрібні права доступу `EDIT_ESTABLISHMENTS`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID закладу",
  "title": "Назва закладу",
  "contentType": "Заклад",
  "description": "Опис закладу (якщо є)",
  "url": "Посилання на сайт закладу (якщо є)",
  "logo": "",
  "status": "Статус модерації",
  "moderation": {
    "moderatorUuid": "UUID модератора",
    "moderatorFullName": "Повне ім'я модератора"
  },
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення закладу",
    "updatedAt": "Дата та час редагування закладу"
  }
}
```

---

#### 7. Видалення закладу за UUID

**Метод**: DELETE  
**URL**: `/api/establishments/{uuid}`  
**Опис**: Видаляє заклад за UUID. Потрібні права доступу `REMOVE_ESTABLISHMENTS`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---

### Контролер Управління Витратами

<details>
  <summary><strong>Натисніть тут, щоб розгорнути</strong></summary>

Цей контролер відповідає за управління витратами, перегляд, створення, редагування та видалення витрат.

#### 1. Отримання списку всіх витрат

**Метод**: GET  
**URL**: `/api/expenses`  
**Опис**: Повертає список витрат з підтримкою пагінації, сортування та фільтрації за періодом. Кожен користувач може переглядати ТІЛЬКИ СВОЇ записи  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Параметри запиту**:

- `limit` - кількість елементів на сторінку (за замовчуванням 5)
- `offset` - кількість елементів, які потрібно пропустити
- `ago` - поле для фільтрації списку (за замовчуванням `allTime`)
- `sort` - поле для сортування (за замовчуванням `uuid`)
- `order` - напрям сортування (`asc` або `desc`, за замовчуванням `asc`)

**Приклад відповіді**:

```json
[
  {
    "uuid": "UUID витрати",
    "date": "Дата здійснення витрати",
    "product": "Назва товару/послуги",
    "establishment": "Назва закладу"
  },
  ...
]
```

---

#### 2. Перегляд даних витрати за UUID

**Метод**: GET  
**URL**: `/api/expenses/{uuid}`  
**Опис**: Отримує інформацію про витрату за його UUID. Кожен користувач може переглядати ТІЛЬКИ СВОЇ записи  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне

**Приклад відповіді**:

```json
{
  "uuid": "UUID витрати",
  "product": {
    "uuid": "UUID товару/послуги",
    "title": "Назва товару/послуги"
  },
  "quantity": "Кількість одиниць",
  "unitPrice": "Ціна за одиницю",
  "totalPrice": "Загальна ціна за покупку",
  "establishment": {
    "uuid": "UUID закладу",
    "title": "Назва закладу"
  },
  "measure": {
    "uuid": "UUID одиниці виміру",
    "title": "Назва одиниці виміру"
  },
  "currency": {
    "uuid": "UUID валюти",
    "title": "Назва валюти",
    "code": "Міжнародний код валюти"
  },
  "date": "Дата здійснення покупки",
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення витрати",
    "updatedAt": "Дата та час редагування витрати"
  }
}
```

---

#### 3. Створення нової витрати

**Метод**: POST  
**URL**: `/api/expenses`  
**Опис**: Створює нову витрату. Потрібні права доступу `ADD_EXPENSES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "product": "Назва товару/послуги",
  "quantity": "Кількість",
  "measure": "Одиниця виміру",
  "unitPrice": "Ціна за одиницю",
  "currency": "Назва валюти",
  "establishment": "Назва закладу",
  "date": "Дата здійснення покупки"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID витрати",
  "product": {
    "uuid": "UUID товару/послуги",
    "title": "Назва товару/послуги"
  },
  "quantity": "Кількість одиниць",
  "unitPrice": "Ціна за одиницю",
  "totalPrice": "Загальна ціна за покупку",
  "establishment": {
    "uuid": "UUID закладу",
    "title": "Назва закладу"
  },
  "measure": {
    "uuid": "UUID одиниці виміру",
    "title": "Назва одиниці виміру"
  },
  "currency": {
    "uuid": "UUID валюти",
    "title": "Назва валюти",
    "code": "Міжнародний код валюти"
  },
  "date": "Дата здійснення покупки",
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення витрати",
    "updatedAt": "Дата та час редагування витрати"
  }
}
```

---

#### 4. Редагування даних витрати за UUID

**Метод**: PATCH  
**URL**: `/api/expenses/{uuid}`  
**Опис**: Оновлює інформацію про витрату за його UUID. Кожен користувач може редагувати ТІЛЬКИ СВОЇ записи. Потрібні права доступу `EDIT_EXPENSES`  
**Доступ лише для авторизованих користувачів**: Так

**Тіло запиту**:

```json
{
  "product": "Інша назва товару/послуги",
  "quantity": "Оновлена кількість",
  "measure": "Інша одиниця виміру",
  "unitPrice": "Оновлена ціна за одиницю",
  "currency": "Інша валюти",
  "establishment": "Інша назва закладу",
  "date": "Інша дата здійснення покупки"
}
```

**Приклад відповіді**:

```json
{
  "uuid": "UUID витрати",
  "product": {
    "uuid": "UUID товару/послуги",
    "title": "Інша назва товару/послуги"
  },
  "quantity": "Оновлена кількість одиниць",
  "unitPrice": "Оновлена ціна за одиницю",
  "totalPrice": "Оновлена загальна ціна за покупку",
  "establishment": {
    "uuid": "UUID закладу",
    "title": "Інша назва закладу"
  },
  "measure": {
    "uuid": "UUID одиниці виміру",
    "title": "Інша назва одиниці виміру"
  },
  "currency": {
    "uuid": "UUID валюти",
    "title": "Інша назва валюти",
    "code": "Міжнародний код валюти"
  },
  "date": "Інша дата здійснення покупки",
  "creation": {
    "creatorUuid": "UUID автора",
    "creatorFullName": "Повне ім'я автора",
    "createdAt": "Дата та час створення витрати",
    "updatedAt": "Дата та час редагування витрати"
  }
}
```

---

#### 5. Видалення витрати за UUID

**Метод**: DELETE  
**URL**: `/api/expenses/{uuid}`  
**Опис**: Видаляє витрату за UUID. Кожен користувач може видаляти ТІЛЬКИ СВОЇ записи. Потрібні права доступу `REMOVE_EXPENSES`  
**Доступ лише для авторизованих користувачів**: Так  
**Тіло запиту**: не потрібне  
**Приклад відповіді**: 200 OK

</details>

---
